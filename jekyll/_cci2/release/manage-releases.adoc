---
contentTags:
  platform:
  - Cloud
---
= Manage releases - Open preview
:page-layout: classic-docs
:page-liquid:
:page-description: How to guide for managing releases from the CircleCI web app
:icons: font
:experimental:

NOTE: CircleCI releases is currently in **open preview**. During open preview release features are available for free. Charges will be associated with release features once they are generally available.

The steps outlined on this page guide you through the tasks required to manage your releases.

[#prerequisites]
== Prerequisites

Before following the steps below, ensure the release environment has been set up and configured successfully. Refer to the xref:set-up-a-release-environment#[Set up a release environment] and xref:configure-your-kubernetes-component#[Configure your Kubernetes component] pages.

[#restore-a-version]
== Restore a version

The _restore a version_ command restores a previously released version of a component.

image::../../img/docs/releases/restore-a-version.png[Screenshot showing the restore a version button]

[#restore-steps]
=== Steps

. Select btn:[Releases] in the CircleCI web app sidebar
. You are now in the timeline view. Select your component from the dropdown menu.
. Scroll to locate the version your want to restore, and click the restore icon in the **Actions** column
. Read through the recommendations in the popup, and if you want to proceed type `RESTORE`, then click btn:[Restore]

NOTE: Revert the associated changes in your source repository as soon as possible after using this command

[#restore-notes]
=== Notes

Executing the _restore a version_ command from the CircleCI web app is the equivalent of using the following:

* If you are using xref:configure-your-kubernetes-components#helm-rollback[Helm]:
+
[,shell]
----
helm rollback <release-name> <revision-number> -n <namespace>
----
* If you are using Argo Rollouts and **not** Helm:
+
[,shell]
----
kubectl argo rollouts undo <rollout-name> --to-revision=<revision_number>
----
+
If `revision_number` is not supplied the component will be rolled back to the previous revision
* For a Kubernetes Deployment:
+
[,shell]
----
kubectl rollout undo deployment/<deployment-name> -n <namespace> --to-revision=<revision-number>`
----


[#scale-a-version]
== Scale a version

The _scale a version_ command allows you to scale up or down a currently live version of a component.

image::../../img/docs/releases/scale-a-version.png[Screenshot showing the scale a version button]

[#scale-steps]
=== Steps

. Select btn:[Releases] in the CircleCI web app sidebar
. Select the **Components** tab
. Scroll to find your component a click to enter the component view
. Find the active version that you would like to scale, and click the scale icon
. Read through the notes associated with this command in the popup and to proceed type `SCALE` and click btn:[Scale]

CAUTION: Any Horizontal Pod Autoscalers (HPAs) defined for this component will be deleted as a result of this action

[#scale-notes]
=== Notes

Executing the _scale a version_ command is the equivalent of the following:

* If you are using Argo Rollouts:
+
[,shell]
----
kubectl patch rollout <rollout_name> -n <namespace> --type='json' -p='[{"op": "replace", "path": "/spec/replicas", "value": <number_of_replicas>}]'
----

* For a Kubernetes Deployment:
+
[,shell]
----
kubectl patch deployment <deployment_name> -n <namespace> --type='json' -p='[{"op": "replace", "path": "/spec/replicas", "value": <number_of_replicas>}]'
----

[#restart-a-version]
== Restart a version

The _restart a version_ command allows you to restart a currently live version of a component.

image::../../img/docs/releases/restart-a-version.png[Screenshot showing the restart a version button]

[#start-steps]
=== Steps

. Select btn:[Releases] in the CircleCI web app sidebar
. Select the **Components** tab
. Scroll to find your component a click to enter the component view
. Find the active version that you would like to restart, and click the restart icon
. Read the note associated with this command in the popup and to proceed type `RESTART` and click btn:[RESTART]

[#restart-notes]
=== Notes

Executing the _restart a version_ command is the equivalent of the following:

* If you are using Argo Rollouts:
+
[,shell]
----
kubectl patch rollout my-rollout -n my-namespace --type='json' -p='[{"op": "replace", "path": "/spec/restartAt", "value": <timestamp>}]'
----

* For a Kubernetes Deployment:
+
[,shell]
----
kubectl rollout restart deployment/<deployment-name> -n <namespace>
----


[#retry-a-release]
== Retry a release

The _retry a release_ command is available to run an link:https://argo-rollouts.readthedocs.io/en/latest/generated/kubectl-argo-rollouts/kubectl-argo-rollouts_retry/[Argo rollout retry]. You may want to use this command if your release has entered a xref:releases-overview#release-status[failed] state.

NOTE: You can use this command if you are using link:https://argoproj.github.io/argo-rollouts/[Argo Rollouts]

[#promote-a-release]
== Promote a release

Use the _promote a release_ command to promote a rollout that is paused at a canary step. For more information see the link:https://argo-rollouts.readthedocs.io/en/stable/generated/kubectl-argo-rollouts/kubectl-argo-rollouts_promote/[Argo Rollouts docs for Rollouts Promote].

NOTE: You can use this command if you are using link:https://argoproj.github.io/argo-rollouts/[Argo Rollouts]

[#cancel-a-release]
== Cancel a release

Use the _cancel a release_ command to stop a release from progressing and revert all steps. For more information see the link:https://argo-rollouts.readthedocs.io/en/stable/generated/kubectl-argo-rollouts/kubectl-argo-rollouts_abort/[Argo Rollouts docs for Rollouts Abort].

NOTE: You can use this command if you are using link:https://argoproj.github.io/argo-rollouts/[Argo Rollouts]