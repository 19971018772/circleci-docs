---
version:
- クラウド
---
= Web アプリでのセルフホストランナーのインストール
:page-layout: classic-docs
:page-liquid:
:page-description: Find resources to install CircleCI self-hosted runners on Linux、macOS、Docker、Windows の各プラットフォームで CircleCI セルフホストランナーをインストールするためのリソースについて
:icons: font
:toc: macro
:toc-title:

ここでは、CircleCI Web アプリでセルフホストランナーをインストールする方法を説明します。

++++
<section style="
    background-color: #d9edf7; 
    border: 1px solid #bce8f1; 
    border-radius: 4px; 
    color: #31708f;
    padding: 15px;
    margin: 20px 0;
">
    Installing self-hosted runners is now available directly in the <a href="https://app.circleci.com/" target="_blank">CircleCI web app</a>! You will need to agree to the <a href="#self-hosted-runner-terms-agreement">Runner Terms</a> before this option is available to you in the UI.
</section>
++++

toc::[]

== 前提条件

ジョブのインストールや実行には、ルートアクセスが必要です。また、以下のユーティリティとツールをシステムにインストールする必要があります。

* https://www.gnu.org/software/coreutils/[coreutils] (Linux のみ)
* https://curl.se/[curl] (macOS はデフォルトでインストール済み)
* sha256sum (プリインストールされていない場合):
  - macOS の場合は `brew install coreutils`  (https://brew.sh/[Homebrew]が必要)
  - Ubuntu/Debain の場合は、`sudo apt install coreutils`
  - Red Hat の場合は、`sudo yum install coreutils`
* https://www.gnu.org/software/tar/[tar]
* https://www.gnu.org/software/gzip/[gzip]
* sepolicy (https://www.redhat.com/en/enterprise-linux-8/details[RHEL 8] のみ)
* rpmbuild (https://www.redhat.com/en/enterprise-linux-8/details[RHEL 8] のみ)

== セルフホストランナーの利用条件

セルフホストランナーを利用する前に、https://circleci.com/legal/runner-terms/[CircleCI ランナーの条件]に同意する必要があります。  https://app.circleci.com/[CircleCI Web アプリ]の *セルフホストランナー* セクションにアクセスするには、組織の管理者が*Organization Settings > Self-Hosted Runners* に移動し、条件に同意する必要があります。

image::{{site.baseurl}}/assets/img/docs/runnerui_terms.png[Runner terms and conditions]

条件が承認されたら、*セルフホストランナー*はサイドナビゲーションバーに常に表示されます。

CircleCI は、組織の VCS 権限をミラーリングします。 組織の VCS の管理者が、CircleCI の管理者です。 不明な場合は、VCS のhttps://support.circleci.com/hc/en-us/articles/360034990033-Am-I-an-Org-Admin[管理者の権限を確認してください。]

== CircleCI Web アプリのインストール

NOTE: 現在、Web アプリのインストールは、*クラウド版の*お客様のみ可能です。 If you need to install *self-hosted runners for server* please see the <<runner-installation-cli#, Self-Hosted Runners through the CLI>> page.

セルフホストランナーをインストールするには、名前空間とリソースクラストークンを作成する必要があります。 リソースクラスとトークンを作成するには、VCS プロバイダーの組織管理者である必要があります。 You can read about namespaces and resource classes on the <<runner-concepts#namespaces-and-resource-classes, Concepts>> page.

お客様のランナーは、インベントリのページで左のナビゲーションバーで *Self-Hosted Runners* をクリックするとご覧いただけます。

. https://app.circleci.com/[CircleCI Web アプリ] で、*Self-Hostd Runners* に移動します。
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_one.png[Runner set up, step one - Get started]
+
. 組織のセルフホストランナーの名前空間とリソースクラスを作成します。 *Each organization can only create a single namespace*. While not required, we suggest using a lowercase representation of your CircleCI account name. If you already use orbs, this namespace should be the same namespace orbs use.
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_two.png[Runner set up, step two - Create a namespace and resource class]
+
. Copy and save the resource class token. Self-hosted runners use this token to claim work for the associated resource class.
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_three.png[Runner set up, step three - Create a resource class token]
+
CAUTION: トークンを再取得することはできませんので、必ず安全な場所に保管してください。
+
. You will need to follow the platform-specific installation instructions to continue. Click the tab in the UI that is relevant to your environment.
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_four.png[Runner set up on your specific machine]
+
The post authentication platform-specific instructions are also documented on their own individual pages if you need to refer to them. See the <<#platform-specific-instructions, Platform-specific instructions>> section for a list of these pages.
+
Please note that if you would like to use self-hosted runners on Kubernetes, the instructions are not included in the UI, and you will need to refer to the xref:runner-on-kubernetes.adoc[Kubernetes] page.
+
+
. You will be presented with configuration code for your new resource class. If you have an existing `.circleci/config.yml` file, add your new resource class below the existing `jobs` section, or add the whole `jobs` section if one doesn't exist in your config. If you don't have an existing `.circleci/config.yml` file, you can create the file and copy all of the code over.
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_five.png[Runner set up, copy code to config file]

=== Platform-specific instructions

Listed below are the platform-specific installation pages.

* xref:runner-installation-linux.adoc[Linux]
* xref:runner-installation-mac.adoc[macOS]
* xref:runner-installation-windows.adoc[Windows]
* xref:runner-installation-docker.adoc[Docker]

== 関連リソース

- https://hub.docker.com/r/circleci/runner[Docker Hub 上の CircleCI ランナー イメージ (英語)]
- https://github.com/CircleCI-Public/circleci-runner-docker[GitHub 上の CircleCI ランナー イメージ (英語)]
- https://circleci.com/docs/ja/[CircleCI ドキュメント (CircleCI 公式ドキュメントをまとめた Web サイト)]
- https://docs.docker.com/[Docker ドキュメント (英語)]