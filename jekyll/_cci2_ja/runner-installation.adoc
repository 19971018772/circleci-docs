---

version:
- Cloud
---
= Installing Self-Hosted Runners with the Web App
:page-layout: classic-docs
:page-liquid:
:page-description: Linux、macOS、Docker、および Windows プラットフォームへの CircleCI セルフホストランナーのインストール方法について説明します。
:icons: font
:toc: macro

:toc-title:

ここでは、CircleCI Web アプリでセルフホストランナーをインストールする方法を説明します。

NOTE: セルフホストランナーは、 https://app.circleci.com/[CircleCI Web アプリ] から直接インストールできます！ このオプションを UI で使用するには、 <<#self-hosted-runner-terms-agreement,ランナー規約>> に同意する必要があります。

toc::[]

[#prerequisites]
== 前提条件

ジョブのインストールや実行には、ルートアクセスが必要です。また、システムに以下のユーティリティとツールをインストールする必要があります。

* https://www.gnu.org/software/coreutils/[coreutils] (Linux のみ)
* https://curl.se/[curl] (macOS ではデフォルトでインストール済み)
* sha256sum (プリインストールされていない場合):
- macOS の場合は、 `brew install coreutils` (https://brew.sh/[Homebrew] が必要)
- `Ubuntu/Debain の場合は、`sudo apt install coreutils`
- Red Hat の場合は、`sudo yum install coreutils`
* https://www.gnu.org/software/tar/[tar]

* https://www.gnu.org/software/gzip/[gzip]
* sepolicy (https://www.redhat.com/en/enterprise-linux-8/details[RHEL 8] のみ)
* rpmbuild (https://www.redhat.com/en/enterprise-linux-8/details[RHEL 8] のみ)

[#self-hosted-runner-terms-agreement]
== セルフホストランナーの利用条件

Before you can make use of self-hosted runners, you will need to agree to the https://circleci.com/legal/runner-terms/[CircleCI Runner Terms]. To be able to gain access to the *Self-Hosted Runners* section of the https://app.circleci.com/[CircleCI web app], an admin in your organization needs to navigate to *Organization Settings > Self-Hosted Runners*, and agree to the terms.

image::{{site.baseurl}}/assets/img/docs/runnerui_terms.png[Runner terms and conditions]

Once the terms have been accepted, **Self-Hosted Runners** will appear permanently in the side navigation.

CircleCI は、組織の VCS 権限をミラーリングします。 If you are an admin on your organization's VCS, you are an admin on CircleCI. If you are unsure, https://support.circleci.com/hc/en-us/articles/360034990033-Am-I-an-Org-Admin[check the admin permissions] on your VCS.

[#circleci-web-app-installation]
== CircleCI Web アプリでのインストール

NOTE: Currently, the web app installation is available to *cloud* customers. If you need to install *self-hosted runners for server* please see the <<runner-installation-cli#,Self-Hosted Runners through the CLI>> page.

セルフホストランナーをインストールするには、名前空間とリソースクラストークンを作成する必要があります。 リソースクラスとトークンを作成するには、VCS プロバイダーの組織管理者である必要があります。 You can read about namespaces and resource classes on the <<runner-concepts#namespaces-and-resource-classes,Concepts>> page.

お客様のランナーは、インベントリのページの左にあるナビゲーションバーで *Self-Hosted Runners* をクリックするとご覧いただけます。

. On the https://app.circleci.com/[CircleCI web app], navigate to *Self-Hosted Runners*.
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_one.png[Runner set up, step one - Get started]
. If this is your organization's first time using self-hosted runners, you'll need to create a namespace as the first part of this step.  *作成できる名前空間は、各組織につき 1 つのみです。*  必須ではありませんが、 CircleCI のアカウント名を小文字で使用することを推奨します。 CircleCI は UI でデフォルトで推奨される名前空間として組織名を入力します。
. 組織で Orb を使用したことがある場合、新しい名前空間は作成せずに組織が Orb 用に使用している名前空間を入力します。
. The second input field is to create a name for your resource class for your organization's self-hosted runners.
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_two.png[Runner set up, step two - Create a namespace and resource class]
. リソースクラストークンをコピーし保存します。 セルフホストランナーはこのトークンを使って関連するリソースクラスの作業を要求します。
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_three.png[Runner set up, step three - Create a resource class token]
+
CAUTION: トークンは再取得できないので、必ず安全な場所に保管してください。
. 続けるには、プラットフォームごとのインストール手順に従う必要があります。 お客様の環境に応じた UI のタブをクリックします。
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_four.png[Runner set up on your specific machine]
+
必要に応じて、それぞれのページに記載されている認証後のプラットフォームごとの手順も参照してください。 See the <<#platform-specific-instructions,Platform-specific instructions>> section for a list of these pages.
+
Please note that if you would like to use self-hosted runners on Kubernetes, the instructions are not included in the UI, and you will need to refer to the xref:runner-on-kubernetes.adoc[Kubernetes] page.
. 新しいリソースクラスの設定コードが提供されます。 If you have an existing `.circleci/config.yml` file, add your new resource class below the existing `jobs` section, or add the whole `jobs` section if one doesn't exist in your config. If you don't have an existing `.circleci/config.yml` file, you can create the file and copy all of the code over.
+
image::{{site.baseurl}}/assets/img/docs/runnerui_step_five.png[Runner set up, copy code to config file]

[#platform-specific-instructions]
=== プラットフォームごとのインストール手順

下記より、プラットフォームごとのインストール手順をご覧いただけます。

* xref:runner-installation-linux.adoc[Linux]
* xref:runner-installation-mac.adoc[macOS]
* xref:runner-installation-windows.adoc[Windows]

* xref:runner-installation-docker.adoc[Docker]

[#additional-resources]
== 関連リソース

- https://hub.docker.com/r/circleci/runner[CircleCI Runner Image on Docker Hub]

- https://github.com/CircleCI-Public/circleci-runner-docker[CircleCI Runner Image on Github]

- https://circleci.com/docs/ja/[CircleCI ドキュメント - CircleCI ドキュメントの公式 Web サイト]

- https://docs.docker.com/[Docker Docs]