---

contentTags:
  platform:
  - クラウド
  - Server v4.x
  - Server v3.x
  - Server v2.x
---
= リソースクラスの概要
:page-layout: classic-docs
:page-liquid:
:page-description: CircleCI のリソースクラスの概要
:icons: font
:toc: macro

:toc-title:

以下の場合にはリソースクラス機能をご使用ください。

* 各 link:/docs/concepts/#jobs[job] のコンピューティングリソースのサイズ (CPU および RAM) を指定する
* リソースクラスの Insights を使ってこれまでの傾向の基づき Executor を最適化する
* `.circleci/config.yml` ファイルで使用する link:/docs/runner-concepts/#namespaces-and-resource-classes[セルフホストランナー] を設定する

[#introduction]
== 概要

`resource_class` の設定オプションには複数の用途があります。 最も一般的な用途は、Executor 用に `resource_class` キーを設定して、各ジョブの CPU と RAM の要件を指定することです。

[source,yaml]
----
jobs:
  my-job:
    docker: # use the Docker executor
      - image: cimg/base:2022.09 # specify a Docker image
    resource_class: xlarge # specify a resource class
    steps:
      - run: echo "Hello World"
----

Executor のリソースクラスは、`small` や `medium` などのサイズで指定します。 各サイズが固有の CPU や RAM の要件に一致します。 使用可能なリソースクラスの全オプションリストは、link:/docs/configuration-reference/#resourceclass[設定ファイルのリファレンス] でご確認ください。 link:https://circleci.com/product/features/resource-classes[リソースクラスの製品概要のページ] では、各リソースクラスのクレジットの使用量や各プランで使用できるリソースクラスに関する情報をご確認いただけます。

CIrcleCI のセルフホストランナーを使用する場合は、プロジェクトの設定で `resource_class` キーを使って各ジョブで使用するランナーを指定します。 セルフホストランナーのリソースクラスは link:/docs/runner-installation/[インストールプロセス] で割り当てられ、設定されます。


[source,yaml]
----
jobs:
  my-job:
    machine: true
    resource_class: <my-namespace>/<my-runner>
    steps:
      - run: echo "Hello runner"
----

別の `resource_class` キーの用途は実行環境の指定です。 たとえば、link:/docs/using-arm[Arm] は `machine` Executor を使う際のリソースクラスのオプションです。

[source,yaml]
----
jobs:
  my-job:
    machine:
      image: ubuntu-2004:202101-01
    resource_class: arm.medium
    steps:
      - run: uname -a
      - run: echo "Hello, Arm!"
----

[#quickstart]
== クイックスタート

実行環境の **CPU と RAM のサイズを指定する** ための `resource_class` キーの使い方を示す設定ファイル例については、設定ファイルのリファレンスのページの以下のセクションをご覧ください。

* link:/docs/configuration-reference/#docker-execution-environment[Docker リソースクラス]
* link:/docs/configuration-reference/#linuxvm-execution-environment[Linux VM リソースクラス]
* link:/docs/configuration-reference/#macos-execution-environment[macIS リソースクラス]
* link:/docs/configuration-reference/#windows-execution-environmen[Windows リソースクラス]
* GPU リソースクラス: link:/docs/configuration-reference/#gpu-execution-environment-linux[Linux] および link:/docs/configuration-reference/#gpu-execution-environment-windows[Windows]
* link:/docs/configuration-reference/#arm-execution-environment-linux[Arm resource classes]

To get started setting up a **self-hosted runner**, see the link:/docs/runner-installation[Installing self-hosted runners with the web app] page.

[#default-resource-class]
== Default resource class

If a `resource_class` is not explicitly declared for a job, CircleCI will use a default resource class size. Defaults are subject to change. It is best practice to specify a resource class, rather than relying on a default.

[#resource-class-usage-tools]
== Resource class usage tools

Information about the resource classes used in your jobs can be found in the web app, or by using the API. See the sections below for details.

[#find-the-resource-class-used-for-a-job]
=== Find the resource class used for a job

The job details page in the web app shows the resource class used for a job.

.Resource class identifier in web app
image::resource-class-job.png[Screenshot showing how to view the resource class used for a job in the web app]

Alternatively, use the "Get job details" endpoint to return information about a job, including the resource class used. For usage steps see the link:/docs/api-developers-guide/#get-job-details[get job details] how-to guide.

=== Resource class Insights

Resource class Insights let you track resource utilization for your jobs. You can inspect and use this information to update your executors based on historical trends and job requirements.

To find resource class Insights:

. Select **Insights** from the web app sidebar.
. The dashboard shows Insights at the project level. To find resource class Insights you need to drill down to the job level:
.. Select a project from the drop down.
.. Select a workflow from the list.
.. Select the **Jobs** tab.
.. Expand a job to view the resource class Insights.
+
.Resource class Insights
image::resource-class-insights.png[Screenshot showing resource class Insights]

[#see-also]
== 関連項目

* For a full list of available resource class options, see the link:/docs/configuration-reference/#resourceclass[configuration reference].
* For information on credit usage per resource class, and to find out resource class availability per plan type, see the link:https://circleci.com/product/features/resource-classes[resource class product page].