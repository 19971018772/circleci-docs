---
version:
- Server v3.x
- サーバー管理
---
= CircleCI Server v3.x の Orbs
:page-layout: classic-docs
:page-liquid:
:icons: font
:toc: macro
:toc-title:

This section describes orbs and how to manage them. CircleCI Server システムには、固有のローカル Orb レジストリが含まれています。 このレジストリは、CircleCI Server からのみアクセスできます。 設定ファイルで参照された Orb はすべて、この CircleCI Server Orb レジストリに含まれる Orb を参照します。 You
are responsible for maintaining orbs. This includes copying orbs from the public registry, updating orbs that may have
been copied prior, and registering your companies private orbs if they exist.

toc::[]

## Orb の管理
Orb には、https://circleci.com/docs/ja/2.0/local-cli/[CircleCI CLI] からアクセスします。 Orb を使用するには、管理者である必要があります。 また、https://circleci.com/docs/ja/2.0/managing-api-tokens/が必要です。 `--host` オプションを使用してローカル リポジトリの場所を指定することで、パブリック クラウドの Orb ではなくローカル サーバーの Orb にアクセスできます。 For
example, if your server installation is located at `\http://circleci.somehostname.com`, then you can run orb commands
local to that orb repository by passing `--host \http://cirlceci.somehostname.com`.

## 利用可能な Orb の一覧表示
利用可能なパブリック Orb を一覧表示するには、Orb ディレクトリにアクセスするか、以下のコマンドを実行します。

[source,bash]
----
circleci orb list
----

(ローカルの CircleCI Server Orb リポジトリに登録された) 利用可能なプライベート Orb を一覧表示するには、次のコマンドを実行します。
[source,bash]
----
circleci orb list --host <your server install domain> --token <your api token>
----

## パブリック Orb のインポート
パブリック Orb をローカルの CircleCI Server Orb リポジトリにインポートするには、次のコマンドを実行します。

```bash
circleci admin import-orb ns[orb[@version]] --host <your server installation domain> --token <your api token>
```

## パブリック Orb の更新のフェッチ
ローカルの CircleCI Server Orb リポジトリに存在するパブリック Orb を新しいバージョンに更新するには、以下のコマンドを実行します。

[source,bash]
----
circleci admin import-orb ns[orb[@version]] --host <your server installation domain> --token <your api token>
----

## Using orbs behind a proxy

When importing orbs, the CLI must be able to talk to the server installation and to circleci.com. If you want to do this when using a server installation behind a proxy, the CLI needs to be configured to use the proxy to make those requests to `circleci.com` and to not proxy requests to the server install. Here is an example of how this could look:

```bash
export NO_PROXY=server.example.com
export HTTPS_PROXY=http://proxy.example.com:3128
export HTTP_PROXY=http://proxy.example.com:3128
circleci admin import-orb ns[orb[@version]] --host <your server installation domain> --token <your api token>
```

For more orb information on using and authoring orbs, refer to the https://circleci.com/docs/2.0/orb-intro/#quick-start[Orb docs] for the cloud product.
