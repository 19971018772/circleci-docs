---
version:
- クラウド
- Server v3.x
---
= CircleCI セルフホストランナーの概要
:page-layout: classic-docs
:page-liquid:
:page-description: CircleCI セルフホストランナーを使用して、お客様のインフラストラクチャでジョブを実行する方法について説明します。
:icons: font
:toc: macro
:toc-title:

toc::[]

== はじめに

CircleCI セルフホストランナーを使用することにより、お客様のインフラストラクチャでジョブを実行できるようになります。 これにより、ビルドとテストが可能なアーキテクチャの幅が広がるだけでなく、環境をより細かく制御することもできます。 下図は、CircleCI セルフホストランナーが既存のシステムをどのように拡張するのかを示しています。

.セルフホストランナーのアーキテクチャ
image::runner-overview-diagram.png[CircleCI Self-hosted Runner Architecture]

== CircleCI ランナーのユースケース

CircleCI では、セルフホストランナーにより主に下記の 2 つのユースケースを実現します。

* 特権アクセスと制御 - 環境の分離に関する要件が厳しい企業では、オンプレミス環境やアクセス制限されたインフラストラクチャでジョブを実行するよう義務付けられている場合があります。 ランナーを使用することで、次のようなことが可能になります。
** IP 制限 - お客様による制御が可能な静的 IP アドレスを使用できます。
** ID とアクセス管理 (IAM) 権限 - AWS にセットアップしたランナーに、IAM の権限を割り当てることができます。
** オペレーティングシステムの監視
** プライベートネットワークへの接続

* 企業独自のコンピューティング要件 - CircleCI のリソース クラスとして提供されていない環境やアーキテクチャでジョブを実行する必要のあるお客様は、ランナーを使用してニーズを満たすことができます。

== はじめよう

To get started with CircleCI self-hosted runners:

* Provide your own platform to deploy your CircleCI self-hosted runners (see the <<runner-supported-platforms#, Available CircleCI self-hosted runner platforms>> page for supported platforms)
* xref:runner-installation.adoc[Install] CircleCI self-hosted runners!

== CircleCI self-hosted runner operation

Once a CircleCI self-hosted runner is installed, the self-hosted runner polls `circleci.com` for work, runs jobs, and returns status, logs, and artifacts to CircleCI. When the self-hosted runner is not running a job, it will auto-update itself when a new version is released.

== 制限事項

Almost all standard CircleCI features are available for use with self-hosted runner jobs, however, a few features are not yet supported. If these features are important for you to make use of self-hosted runner jobs, please let us know via the relevant canny page.

- https://circleci.canny.io/runner-feature-requests/p/support-addsshkey-on-self-hosted-runners[`add_ssh_keys`]
- The following built in environment variables are not populated within runner executors:
-- CIRCLE_PREVIOUS_BUILD_NUM
-- All deprecated cloud environment variables 

== 詳しくはこちら

CircleCI Academy の https://academy.circleci.com/runner-course?access_code=public-2021[ランナーコース] を受講すると、インフラ上でのジョブの実行についてさらに詳しく学ぶことができます。

== 関連項目
- <<runner-concepts#, Runner Concepts>>
- <<runner-installation#, Self-Hosted Runner Web App Installation>>
